// mylang.ext:

// Assume we are writing a game engine script

property RotateBy
{
	Angle: { double angle; }
	Radian: { double rads; }
	Quaternion: { double a, b, c, d; }
}

property Command
{
	Rotate: { RotateBy r; }
	Move: { double dx, dy; }
	Stop: {}
}

fn exec(inout Command c, inout int x) -> int
{
	match(c) 
	{
		case Rotate -> {
			match (c.r)
			{
				case Angle -> { return x; }
				case Radian -> { return 4; }
				case Quaternion -> { return 3; }
			}
		}
		case Move -> {
		}
		case Stop -> { int a; }
	}
	return x;
}

int i = exec(Rotate{Angle{50}}, 5);