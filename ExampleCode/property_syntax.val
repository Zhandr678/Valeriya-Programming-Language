// mylang.ext:

// Assume we are writing a game engine script

property RotateBy
{
	Angle: { double angle; }
	Radian: { double rads; }
	Quaternion: { double a, b, c, d; }
}

property Command
{
	Rotate: { RotateBy r; }
	Move: { double dx, dy; }
	Stop: {}
}

fn exec(Command c) -> void
{
	match(c) 
	{
		case Rotate -> {
			match (c.r)
			{
				case Angle -> { /* rotate angle (c.r.angle) impl */ }
				case Radian -> { /* rotate radians (c.r.rads) impl */ }
				case Quaternion -> { /* rotate quaternion (c.r.a, c.r.b, c.r.c, c.r.d) impl */ }
			}
		}
		case Move -> {
			/* moving (c.dx, c.dy) impl */	
		}
		case Stop -> { /* external function */ halt(); }
	}
}